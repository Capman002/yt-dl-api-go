# ===================================
# yt-dl-api-go - Configuration
# ===================================
# Copy this file to .env and configure your values

# Server Configuration
PORT=8080
ENV=development
LOG_LEVEL=debug

# Allowed Origins (comma-separated, no spaces)
# Example: https://your-site.com,https://www.your-site.com
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:4321

# ===================================
# Cloudflare Turnstile
# ===================================
# Get your keys at: https://dash.cloudflare.com/turnstile
TURNSTILE_SECRET_KEY=your-turnstile-secret-key
# Set to "true" to skip Turnstile verification in development
TURNSTILE_SKIP=false

# ===================================
# Rate Limiting
# ===================================
# Requests per minute per IP
RATE_LIMIT_RPM=5
# Burst size (max requests in quick succession)
RATE_LIMIT_BURST=2

# ===================================
# Worker Pool
# ===================================
# Number of concurrent download workers
MAX_WORKERS=3
# Maximum queue size
MAX_QUEUE_SIZE=10

# ===================================
# Cloudflare R2 Storage
# ===================================
# Get credentials at: https://dash.cloudflare.com/r2
R2_ACCOUNT_ID=your-r2-account-id
R2_ACCESS_KEY_ID=your-r2-access-key
R2_SECRET_ACCESS_KEY=your-r2-secret-key
R2_BUCKET_NAME=your-bucket-name
R2_PUBLIC_URL=https://your-bucket.r2.dev

# ===================================
# File Settings
# ===================================
# Maximum file size for downloads (in bytes, default 500MB)
MAX_FILE_SIZE=524288000
# Maximum video duration in seconds (default 30 minutes)
MAX_DURATION=1800
# Presigned URL expiry in minutes
PRESIGNED_URL_EXPIRY=15

# ===================================
# Cleanup Settings
# ===================================
# Local file cleanup interval in minutes
LOCAL_CLEANUP_INTERVAL=5
# R2 file cleanup interval in minutes
R2_CLEANUP_INTERVAL=30
# Maximum file age in R2 (in minutes)
R2_MAX_FILE_AGE=60

# ===================================
# Paths
# ===================================
# Directory for temporary downloads
TEMP_DIR=./tmp
# Directory for SQLite database
DATA_DIR=./data
